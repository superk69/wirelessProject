<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" type="text/css">
  <link rel="stylesheet" href="https://pingendo.com/assets/bootstrap/bootstrap-4.0.0-beta.1.css" type="text/css"> </head>

<body>
  <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4"></div>
        <div class="col-md-4"></div>
      </div>
    </div>
  </div>
  <div class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-3"> </div>
        <div class="col-md-6">
          <div class="card text-white p-5 bg-dark">
            <div class="card-body">
              <h1 class="mb-4">เข้าสูระบบ</h1>
              <form action="">
                <button type="button" class="btn btn-secondary btn-block btn-lg" onclick="loginFaceBook()"><i class="fa fa-fw fa-facebook-square"></i>&nbsp;Facebook</button>
                <button type="button" class="btn btn-light btn-block btn-lg" onclick="loginGoogle()">  <i  class="fa fa-fw fa-google" ></i>&nbsp;Google Account</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  

  <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
  <script>
    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyBnRd42ZFJc2A4lbkfnvnfCF8S-7xSGrbs",
      authDomain: "smartgrid-power-management.firebaseapp.com",
      databaseURL: "https://smartgrid-power-management.firebaseio.com",
      projectId: "smartgrid-power-management",
      storageBucket: "smartgrid-power-management.appspot.com",
      messagingSenderId: "925384727439"
    };
    firebase.initializeApp(config);
  


    function loginGoogle(){
      var provider = new firebase.auth.GoogleAuthProvider();
      firebase.auth().signInWithPopup(provider).then(function(result) {
      var token = result.credential.accessToken;
      var user = result.user;
      document.location.href="/create";
    }).catch(function(error) {
      var errorCode = error.code;
      var errorMessage = error.message;
      var email = error.email;
      var credential = error.credential;
    });
    }
    function loginFaceBook(){
      var provider = new firebase.auth.FacebookAuthProvider();
    firebase.auth().languageCode = 'th_TH';
    provider.setCustomParameters({
      'display': 'popup'
    });
    firebase.auth().signInWithPopup(provider).then(function(result) {
      var token = result.credential.accessToken;
      var user = result.user;
      document.location.href="/create";
    }).catch(function(error) {
      var errorCode = error.code;
      var errorMessage = error.message;
      var email = error.email;
      var credential = error.credential;
    });
  }
    firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    document.location.href="/addnewLocation";
        }
  });
  </script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
</body>

</html>